# AI Medical Backend 使用说明

## 🚀 快速启动

### 方法一：一键启动（推荐）
1. 双击运行 `start_server.bat` 文件
2. 等待服务启动完成
3. 在浏览器中访问 http://localhost:8080/docs 查看API文档

### 方法二：手动启动
```bash
# 1. 安装Python依赖
python -m pip install fastapi uvicorn

# 2. 启动简化版服务
python simple_main.py

# 或者启动完整版服务（需要更多依赖）
python run.py
```

## 📋 系统要求

- **Python**: 3.7 或更高版本
- **操作系统**: Windows 10/11
- **网络**: 需要互联网连接以安装依赖包

## 🔧 故障排除

### 问题1：找不到Python
**错误信息**: `'python' 不是内部或外部命令`

**解决方案**:
1. 下载并安装Python: https://www.python.org/downloads/
2. 安装时勾选 "Add Python to PATH"
3. 重启命令提示符

### 问题2：依赖包安装失败
**错误信息**: `subprocess-exited-with-error`

**解决方案**:
1. 使用简化版启动: `python simple_main.py`
2. 或者升级pip: `python -m pip install --upgrade pip`
3. 手动安装基本依赖: `python -m pip install fastapi uvicorn`

### 问题3：端口被占用
**错误信息**: `Address already in use`

**解决方案**:
1. 关闭占用8080端口的程序
2. 或者修改端口号（在代码中将8080改为其他端口）

## 📡 API接口说明

### 基础接口
- `GET /` - 服务状态
- `GET /health` - 健康检查
- `GET /docs` - API文档（Swagger UI）

### 商品管理
- `GET /api/products/` - 获取商品列表
- `GET /api/products/{id}` - 获取商品详情

### 图书资源
- `GET /api/books/` - 获取图书列表
- `GET /api/books/chinese` - 获取中医图书
- `GET /api/books/western` - 获取西医图书
- `GET /api/books/{id}` - 获取图书详情

### 用户管理
- `POST /api/users/login` - 用户登录

### 处方管理
- `POST /api/prescriptions/analyze-symptoms` - AI症状分析

### 预约挂号
- `GET /api/appointments/departments` - 获取科室列表

## 🧪 测试数据

### 测试用户账号
- 管理员: `admin` / `admin123`
- 普通用户: `testuser` / `test123`

### 示例商品
- 养生茶 (¥98)
- 艾灸贴 (¥68)
- 按摩仪 (¥199)

### 示例图书
- 黄帝内经
- 本草纲目
- 希波克拉底文集

## 🔗 与Android前端集成

在Android应用中，将API基础URL设置为:
```
http://localhost:8080
```

或者如果需要在其他设备访问:
```
http://你的电脑IP:8080
```

## 📞 技术支持

如果遇到问题，请检查:
1. Python版本是否正确
2. 网络连接是否正常
3. 防火墙是否阻止了端口访问
4. 查看控制台错误信息

---

**注意**: 这是开发版本，仅用于测试和开发。生产环境请使用完整的数据库和安全配置。